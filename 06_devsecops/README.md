# Домашнее задание к занятию «3.1 DevSecOps и AppSec (часть 1)»

В качестве результата пришлите ответы на вопросы в личном кабинете студента на сайте [netology.ru](https://netology.ru).

## Предисловие

Данные ДЗ будут представлять собой лабораторные работы, в рамках которой вы по инструкциям выполните определённые шаги.

## Задание GitLab

**Важно**: данное ДЗ не обязательно, поскольку предполагает регистрацию на стороннем сервисе.

В рамках данного задания мы воспользуемся сервисом GitLab - одним из комплексных и самых популярных решений для поддержки DevOps и DevSecOps.

Мы будем использовать Trial версию, предоставляемую в облаке (в целях упрощения настройки и развёртывания).

Командой GitLab уже подготовлены и настроены инструменты, которые позволяют:
1. Анализировать код на уязвимости - SAST (включая зависимости - SCA или Dependency Scanning)
1. Анализировать контейнеры на уязвимости (Container Scanning)
1. Анализировать используемые в проекте лицензии (License Scanning)
1. Проверять секреты (Secret Detection)

Полный перечень доступных проверок можно найти по адресам:
* https://gitlab.com/gitlab-org/gitlab/-/tree/master/lib/gitlab/ci/templates/Security
* https://docs.gitlab.com/ee/user/application_security/ (документация)

### Порядок выполнения

1\. Перейдите по адресу https://gitlab.com/-/trial_registrations/new и зарегистрируйте новую учётную запись:

![](pic/01.png)

1\.1\. После регистрации, для работы с пайплайнами безопасности, необходимо поставить локальные раннеры на свой компьютер
https://docs.gitlab.com/runner/install/
Раннер нужен для сборки и проведения проверок безопасности. Сам раннер нужно будет в последствии выбрать в настройках проекта из списка Available Specific Runners:
![](https://i.imgur.com/aXC66KH.png)

2\. Установите значения как на скриншоте и нажмите кнопку `Continue`:

![](pic/02.png)

3\. Заполните необходимые данные для продолжения:

![](pic/03.png)

4\. Введите название для группы проектов:

![](pic/04.png)

5\. Дождитесь попадания на главную страницу: 

![](pic/05.png)

6\. Перейдите в свой email, указанный при регистрации, и подтвердите регистрацию:

![](pic/06.png)

7\. Нажмите на кнопку `New Project` для создания нового проекта:

![](pic/07.png)

8\. Выберите `Import project` для импорта готового проекта:

![](pic/08.png)

9\. Кликните на кнопку `Repo By URL` и заполните поле Git repository URL следующей ссылкой: https://github.com/netology-code/ib-devsecops-app.git:

![](pic/09.png)

10\. Оставьте остальные поля заполненными по умолчанию и нажмите `Create project`:

![](pic/10.png)

11\. Зайдите в пункт меню `CI/CD` - `Pipelines` и нажмите на кнопку `Run Pipeline`:

![](pic/pipeline.png)

12\. На открывшейся странице снова нажмите на кнопку `Run Pipeline`:

![](pic/run-pipeline.png)

13\. Дождитесь окончания процесса анализа:

![](pic/13_inprogress.png)

![](pic/13_finished.png)

Примечание*: в списке задач вы увидите упавшую задачу с `retire-js` - это нормально:

![](pic/failed-jobs.png)

![](pic/retirejs.png)

14\. Перейдите в раздел `Security & Compliance`:

![](pic/14.png)

15\. Изучите внимательно следующие разделы:

* Vulnerability Report (отчёт об уязвимостях)
* Dependency List
* License Compliance

### Ответьте на следующие вопросы:

**Важно**: после окончания проверки подождите пару минут и несколько раз обновите страницу через `Shift` + `F5` (иногда не все данные по проверкам подтягиваются сразу - убедитесь, что уязвимости точно найдены для приложения, зависимостей и контейнера).

1\. Сколько уязвимостей и какого уровня значимости найдено (Severity)

![](pic/vulnerabilities.png)

2\. Сколько из них:

1. В самом приложении (SAST)
1. В контейнерах (Container Scanning)
1. В зависимостях (Dependency Scanning)
1. Секретов (Secret Detection)

3\. Какая уязвимость найдена в самом приложении?

4\. Сколько зависимостей в приложении?

5\. Сколько различного рода лицензий используется в приложении и его зависимостях?

### Результаты выполнения

Пришлите в личном кабинете студента ответы на указанные в разделе **Ответьте на следующие вопросы**, а также скриншот статистики со всеми найденными уязвимостями (интересуют только числа в секциях `Critical`, `High`, `Medium`, `Low`).

**Важно**: не удаляйте свою учётную запись после завершения работы. Она нам понадобится на следующей лекции.

